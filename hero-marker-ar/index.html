<!DOCTYPE html>
<html>
  <head>
    <title>Hero Marker AR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://rawcdn.githack.com/jeromeetienne/AR.js/1.7.7/aframe/build/aframe-ar.js"></script>
    <style>
      #sizeSlider {
        position: fixed;
        top: 20px; /* Adjust position as needed */
        left: 20px; /* Adjust position as needed */
        z-index: 9999; /* Ensure it's above other elements */
        width: 80%;
        margin: 10px;
      }
    </style>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const marker = document.querySelector('a-marker');
        const model = document.querySelector('#beadsModel');
        const sizeSlider = document.querySelector('#sizeSlider');

        sizeSlider.addEventListener('input', () => {
          const scaleValue = parseFloat(sizeSlider.value);
          const scale = `${scaleValue} ${scaleValue} ${scaleValue}`;
          model.setAttribute('scale', scale);
        });

        marker.addEventListener('markerFound', () => {
          console.log('Marker found!');
          // Reset slider position
          sizeSlider.value = 1; // Set default scale
        });

        marker.addEventListener('markerLost', () => {
          console.log('Marker lost!');
          // Reset model scale
          model.setAttribute('scale', '0.5 0.5 0.5');
        });
      });
    </script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <!-- Slider control for adjusting size -->
    <input id="sizeSlider" type="range" min="0.1" max="2" step="0.1" value="1" />

    <a-scene embedded arjs="sourceType: webcam;">
      <!-- Define the marker -->
      <a-marker type="pattern" url="pattern-hiro.patt">
        <!-- Add 3D content to the marker -->
        <a-entity id="beadsModel" gltf-model="url(beads.gltf)" scale="0.5 0.5 0.5" position="0 0 0"></a-entity>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
